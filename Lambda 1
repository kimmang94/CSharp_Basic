using System;
using System.Collections.Generic;

namespace Array
{
    enum ItemType
    {
        Wepon,
        Armor,
        Amulet,
        Ring
    }

    enum Rarity
    {
        Nomal,
        Uncommon,
        Rare,
    }

    class Item
    {
        public ItemType itemType;
        public Rarity Rarity;
    }


    class Program
    {
        static List<Item> _items = new List<Item>();

        delegate bool ItemSelector(Item item);

        // 아래 함수를 일회용으로 만든다
        static bool IsWeapon(Item item)
        {
           return item.itemType == ItemType.Wepon;
        }

        static Item FindItem(ItemSelector selector)
        {
            foreach (Item item in _items)
            {
                if (selector(item))
                    return item;
            }
            return null;
        }


        static void Main(string[] args)
        {
            // Lambda 람다식
            // 1회용 함수를 만드는데 사용하는 문법

            _items.Add(new Item() { itemType = ItemType.Wepon, Rarity = Rarity.Nomal });
            _items.Add(new Item() { itemType = ItemType.Armor, Rarity = Rarity.Uncommon });
            _items.Add(new Item() { itemType = ItemType.Ring, Rarity = Rarity.Rare });


            Item item = FindItem(IsWeapon);

            //일회용 함 / Anonymous Function /무명 함수 or 익명 함수
            Item item1 = FindItem(delegate (Item item2)
            {
                return item.itemType == ItemType.Wepon;
            });

            // Lambda 식
            Item item2 = FindItem( (Item item2) =>
            {
                return item.itemType == ItemType.Wepon;
            });

            //이런식으로 사용가능 이렇게 되면 재사용이 가능하다
            ItemSelector selector = new ItemSelector ((Item item2) =>
            {
                return item.itemType == ItemType.Wepon;
            });

        }
    }
}
